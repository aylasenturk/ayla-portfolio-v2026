import type { CodeMapData } from "../types";

export const codeMapData: CodeMapData = {
  nodes: [
    {
      id: "src/main.tsx",
      name: "main.tsx",
      type: "config",
      desc: "Uygulama giriş noktası — createRoot ile App'i DOM'a bağlar",
      exports: [],
      functions: [
        { name: "createRoot().render()", desc: "React uygulamasını #root elementine monte eder" },
      ],
    },
    {
      id: "src/App.tsx",
      name: "App.tsx",
      type: "root",
      desc: "Rota tanımları — tüm sayfaları MainLayout içinde sarar",
      exports: ["default: App"],
      functions: [
        { name: "App", desc: "BrowserRouter + Routes ile 7 sayfa rotasını tanımlar" },
      ],
    },
    {
      id: "src/components/layout/MainLayout.tsx",
      name: "MainLayout.tsx",
      type: "layout",
      desc: "Ana kabuk — Sidebar, Navbar, Footer ve sayfa içeriğini birleştirir",
      exports: ["default: MainLayout"],
      props: ["children: React.ReactNode"],
      state: [
        { name: "sidebarOpen", type: "boolean", desc: "Sidebar açık/kapalı durumu" },
        { name: "theme", type: '"light" | "dark"', desc: "Aktif tema, localStorage'dan okunur" },
      ],
      hooks: ["useState"],
      functions: [
        { name: "getInitialTheme", desc: "localStorage'dan tema tercihini okur, yoksa 'light' döner" },
        { name: "toggleTheme", desc: "Temayı değiştirir, localStorage ve DOM günceller" },
      ],
      types: [{ name: "MainLayoutProps", fields: ["children: React.ReactNode"] }],
    },
    {
      id: "src/components/layout/Navbar.tsx",
      name: "Navbar.tsx",
      type: "layout",
      desc: "Üst navigasyon çubuğu — menü toggle ve tema değiştirme",
      exports: ["default: Navbar"],
      props: [
        "onMenuToggle: () => void",
        'theme: "light" | "dark"',
        "onThemeToggle: () => void",
      ],
      types: [
        {
          name: "NavbarProps",
          fields: [
            "onMenuToggle: () => void",
            'theme: "light" | "dark"',
            "onThemeToggle: () => void",
          ],
        },
      ],
    },
    {
      id: "src/components/layout/Sidebar.tsx",
      name: "Sidebar.tsx",
      type: "layout",
      desc: "Yan menü — navigation verisinden menü öğelerini render eder",
      exports: ["default: Sidebar"],
      props: ["isOpen: boolean", "onClose: () => void"],
      hooks: ["useLocation"],
      types: [{ name: "SidebarProps", fields: ["isOpen: boolean", "onClose: () => void"] }],
    },
    {
      id: "src/components/layout/Footer.tsx",
      name: "Footer.tsx",
      type: "layout",
      desc: "Alt bilgi — telif hakkı ve yıl bilgisi",
      exports: ["default: Footer"],
      constants: [{ name: "currentYear", desc: "new Date().getFullYear()" }],
    },
    {
      id: "src/components/ui/PageHeader.tsx",
      name: "PageHeader.tsx",
      type: "ui",
      desc: "Breadcrumb tarzı sayfa başlığı — 'Bölüm / Başlık' formatında",
      exports: ["default: PageHeader"],
      props: ["section: string", "title: string", "className?: string"],
      types: [
        {
          name: "PageHeaderProps",
          fields: ["section: string", "title: string", "className?: string"],
        },
      ],
    },
    {
      id: "src/lib/navigation.ts",
      name: "navigation.ts",
      type: "lib",
      desc: "Merkezi navigasyon verisi — Sidebar menü yapısı için tek kaynak",
      exports: ["navigation", "NavItem", "NavGroup"],
      types: [
        { name: "NavItem", fields: ["label: string", "href: string", "icon: LucideIcon"] },
        { name: "NavGroup", fields: ["title: string", "items: NavItem[]"] },
      ],
      constants: [
        {
          name: "navigation",
          desc: "NavGroup[] — Portfolyo (5 öğe) + Üretkenlik Araçları (2 öğe)",
        },
      ],
    },
    {
      id: "src/pages/HomePage.tsx",
      name: "HomePage.tsx",
      type: "page",
      desc: "Ana sayfa — hızlı erişim kartları ve özellik vitrini",
      exports: ["default: HomePage"],
      constants: [
        { name: "quickAccessCards", desc: "3 kart: Projeler, Makaleler, İletişim" },
        {
          name: "features",
          desc: "6 özellik: Üretkenlik, Hesaplayıcılar, UI, API, A11Y, Responsive",
        },
      ],
    },
    {
      id: "src/pages/ProjectsPage.tsx",
      name: "ProjectsPage.tsx",
      type: "page",
      desc: "Projeler sayfası — proje kartları listesi",
      exports: ["default: ProjectsPage"],
      constants: [
        { name: "projects", desc: "6 proje: {title, description, tags, icon, year}" },
      ],
    },
    {
      id: "src/pages/ArticlesPage.tsx",
      name: "ArticlesPage.tsx",
      type: "page",
      desc: "Makaleler sayfası — makale kartları listesi",
      exports: ["default: ArticlesPage"],
      constants: [
        { name: "articles", desc: "4 makale: {title, date, description, tags}" },
      ],
    },
    {
      id: "src/pages/ContactPage.tsx",
      name: "ContactPage.tsx",
      type: "page",
      desc: "İletişim formu — form verisi localStorage'a kaydedilir",
      exports: ["default: ContactPage"],
      state: [
        { name: "formData", type: "ContactFormData", desc: "Form alanları: name, email, subject, message" },
        { name: "showSuccess", type: "boolean", desc: "Başarı mesajı gösterim durumu" },
      ],
      hooks: ["useState"],
      functions: [
        { name: "handleSubmit", params: "e: FormEvent", desc: "Formu gönderir, localStorage'a kaydeder" },
        { name: "handleChange", params: "field, value", desc: "Tek bir form alanını günceller" },
      ],
      types: [
        {
          name: "ContactFormData",
          fields: ["name: string", "email: string", "subject: string", "message: string"],
        },
      ],
      constants: [
        { name: "initialFormData", desc: "Boş form başlangıç değerleri" },
        { name: "contactInfo", desc: "3 öğe: Konum, E-posta, Telefon" },
        { name: "socialLinks", desc: "4 öğe: LinkedIn, GitHub, X, Instagram" },
      ],
    },
    {
      id: "src/pages/ResumePage.tsx",
      name: "ResumePage.tsx",
      type: "page",
      desc: "Özgeçmiş sayfası — beceri çubukları ve ders listesi",
      exports: ["default: ResumePage"],
      functions: [
        {
          name: "SkillSection",
          params: "{title, icon, skills, note}",
          desc: "Tekrar kullanılabilir beceri bölümü (yerel bileşen)",
        },
      ],
      types: [{ name: "SkillBar", fields: ["name: string", "level: number", "label: string"] }],
      constants: [
        { name: "webSkills", desc: "3 beceri: HTML/CSS/JS, Responsive, A11Y" },
        { name: "backendSkills", desc: "3 beceri: XAMPP, PHP, Sunucu" },
        { name: "dbSkills", desc: "3 beceri: MySQL, MSSQL, DB Tasarımı" },
        { name: "programmingSkills", desc: "3 beceri: OOP, Algoritma, Veri Yapıları" },
        { name: "courses", desc: "12 ders adı listesi" },
      ],
    },
    {
      id: "src/pages/PomodoroPage.tsx",
      name: "PomodoroPage.tsx",
      type: "page",
      desc: "Pomodoro zamanlayıcı arayüzü — iş mantığı usePomodoro hook'unda",
      exports: ["default: PomodoroPage"],
      hooks: ["usePomodoro"],
    },
    {
      id: "src/pages/TaskTrackerPage.tsx",
      name: "TaskTrackerPage.tsx",
      type: "page",
      desc: "Görev takipçi arayüzü — iş mantığı useTaskTracker hook'unda",
      exports: ["default: TaskTrackerPage"],
      hooks: ["useTaskTracker"],
      constants: [
        { name: "FILTERS", desc: "3 filtre: Tümü, Devam Eden, Tamamlanan" },
      ],
    },
    {
      id: "src/hooks/usePomodoro.ts",
      name: "usePomodoro.ts",
      type: "hook",
      desc: "Pomodoro zamanlayıcı iş mantığı — interval, oturum geçişleri, ses bildirimi",
      exports: [
        "usePomodoro",
        "formatTime",
        "MODE_LABELS",
        "MODE_COLORS",
        "TimerMode",
        "TimerSettings",
        "PomodoroState",
        "PomodoroActions",
      ],
      state: [
        { name: "settings", type: "TimerSettings", desc: "Çalışma/mola süre ayarları" },
        { name: "timeLeft", type: "number", desc: "Kalan süre (saniye)" },
        { name: "isRunning", type: "boolean", desc: "Zamanlayıcı çalışıyor mu" },
        { name: "mode", type: "TimerMode", desc: "Aktif mod: work | shortBreak | longBreak" },
        { name: "sessionCount", type: "number", desc: "Tamamlanan oturum sayısı" },
        { name: "showToast", type: "boolean", desc: "Ayar bildirim gösterimi" },
      ],
      hooks: ["useState (x6)", "useEffect (x2)", "useRef (x2)", "useCallback (x6)"],
      functions: [
        { name: "formatTime", params: "totalSeconds: number", desc: "Saniyeyi MM:SS formatına çevirir" },
        { name: "getTimeForMode", params: "targetMode: TimerMode", desc: "Mod'a göre süreyi döner" },
        { name: "switchToNextSession", desc: "work→break→work döngüsü ile sonraki oturuma geçer" },
        { name: "handleStart", desc: "setInterval ile zamanlayıcıyı başlatır" },
        { name: "handlePause", desc: "clearInterval ile duraklatır" },
        { name: "handleReset", desc: "Aktif mod'un başlangıç süresine sıfırlar" },
        { name: "handleApplySettings", desc: "Yeni ayarları uygular, süreyi günceller, toast gösterir" },
      ],
      types: [
        { name: "TimerMode", fields: ['"work" | "shortBreak" | "longBreak"'] },
        { name: "TimerSettings", fields: ["workMinutes: number", "shortBreakMinutes: number", "longBreakMinutes: number"] },
        { name: "PomodoroState", fields: ["settings", "timeLeft", "isRunning", "mode", "sessionCount", "showToast"] },
        { name: "PomodoroActions", fields: ["handleStart", "handlePause", "handleReset", "handleApplySettings", "setSettings"] },
      ],
      constants: [
        { name: "MODE_LABELS", desc: "Mod etiketleri: Çalışma Zamanı, Kısa Mola, Uzun Mola" },
        { name: "MODE_COLORS", desc: "Mod Tailwind renkleri" },
        { name: "DEFAULT_SETTINGS", desc: "Varsayılan süreler: 25/5/15 dakika" },
      ],
      refs: [
        { name: "intervalRef", desc: "setInterval referansı" },
        { name: "audioRef", desc: "Bildirim sesi (HTMLAudioElement)" },
      ],
    },
    {
      id: "src/hooks/useTaskTracker.ts",
      name: "useTaskTracker.ts",
      type: "hook",
      desc: "Görev CRUD iş mantığı — localStorage persistence, filtreleme, istatistik",
      exports: ["useTaskTracker", "Task", "FilterType", "TaskTrackerStats", "TaskTrackerState", "TaskTrackerActions"],
      state: [
        { name: "tasks", type: "Task[]", desc: "Görev listesi, lazy init ile localStorage'dan yüklenir" },
        { name: "input", type: "string", desc: "Yeni görev giriş metni" },
        { name: "filter", type: "FilterType", desc: "Aktif filtre: all | todo | done" },
      ],
      hooks: ["useState (x3)", "useEffect (x1)"],
      functions: [
        { name: "loadTasks", desc: "localStorage'dan görev listesini okur" },
        { name: "saveTasks", params: "tasks: Task[]", desc: "Görev listesini localStorage'a yazar" },
        { name: "addTask", desc: "crypto.randomUUID ile yeni görev oluşturur" },
        { name: "toggleTask", params: "id: string", desc: "Görev durumunu todo↔done değiştirir" },
        { name: "removeTask", params: "id: string", desc: "Görevi listeden siler" },
      ],
      types: [
        { name: "Task", fields: ["id: string", "title: string", 'status: "todo" | "done"'] },
        { name: "FilterType", fields: ['"all" | "todo" | "done"'] },
        { name: "TaskTrackerStats", fields: ["totalCount: number", "doneCount: number", "pendingCount: number"] },
        { name: "TaskTrackerState", fields: ["tasks", "input", "filter", "filteredTasks", "stats"] },
        { name: "TaskTrackerActions", fields: ["setInput", "setFilter", "addTask", "toggleTask", "removeTask"] },
      ],
      constants: [{ name: "STORAGE_KEY", desc: 'localStorage anahtarı: "tasks"' }],
      computed: [
        { name: "filteredTasks", desc: "Aktif filtreye göre filtrelenmiş görev listesi" },
        { name: "stats", desc: "Toplam, tamamlanan, devam eden görev sayıları" },
      ],
    },
  ],

  edges: [
    { source: "src/main.tsx", target: "src/App.tsx", type: "import" },
    { source: "src/App.tsx", target: "src/components/layout/MainLayout.tsx", type: "import" },
    { source: "src/App.tsx", target: "src/pages/HomePage.tsx", type: "route", label: "/" },
    { source: "src/App.tsx", target: "src/pages/ProjectsPage.tsx", type: "route", label: "/projeler" },
    { source: "src/App.tsx", target: "src/pages/ArticlesPage.tsx", type: "route", label: "/makaleler" },
    { source: "src/App.tsx", target: "src/pages/ContactPage.tsx", type: "route", label: "/iletisim" },
    { source: "src/App.tsx", target: "src/pages/ResumePage.tsx", type: "route", label: "/ozgecmis" },
    { source: "src/App.tsx", target: "src/pages/PomodoroPage.tsx", type: "route", label: "/araclar/pomodoro" },
    { source: "src/App.tsx", target: "src/pages/TaskTrackerPage.tsx", type: "route", label: "/araclar/gorev-takipcisi" },
    { source: "src/components/layout/MainLayout.tsx", target: "src/components/layout/Navbar.tsx", type: "import", label: "props: theme, onMenuToggle, onThemeToggle" },
    { source: "src/components/layout/MainLayout.tsx", target: "src/components/layout/Sidebar.tsx", type: "import", label: "props: isOpen, onClose" },
    { source: "src/components/layout/MainLayout.tsx", target: "src/components/layout/Footer.tsx", type: "import" },
    { source: "src/components/layout/Sidebar.tsx", target: "src/lib/navigation.ts", type: "data", label: "navigation: NavGroup[]" },
    { source: "src/pages/ProjectsPage.tsx", target: "src/components/ui/PageHeader.tsx", type: "import" },
    { source: "src/pages/ArticlesPage.tsx", target: "src/components/ui/PageHeader.tsx", type: "import" },
    { source: "src/pages/ContactPage.tsx", target: "src/components/ui/PageHeader.tsx", type: "import" },
    { source: "src/pages/ResumePage.tsx", target: "src/components/ui/PageHeader.tsx", type: "import" },
    { source: "src/pages/PomodoroPage.tsx", target: "src/components/ui/PageHeader.tsx", type: "import" },
    { source: "src/pages/PomodoroPage.tsx", target: "src/hooks/usePomodoro.ts", type: "hook" },
    { source: "src/pages/TaskTrackerPage.tsx", target: "src/components/ui/PageHeader.tsx", type: "import" },
    { source: "src/pages/TaskTrackerPage.tsx", target: "src/hooks/useTaskTracker.ts", type: "hook" },
  ],
};
