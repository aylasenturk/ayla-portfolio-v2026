/* ── Tema Degiskenleri (Varsayilan Light Mode) ── */
:root {
  --bg-main: #f8fafc;
  --text-main: #334155;
  --text-muted: #64748b;
  --accent: #0ea5e9;
  --panel-bg: #ffffff;
  --panel-border: #e2e8f0;
  --input-bg: #f1f5f9;
  --overlay: rgba(0,0,0,0.2);
  --link-line: #cbd5e1;
}

/* ── Koyu Tema (Dark Mode) ── */
[data-theme="dark"] {
  --bg-main: #0f172a;
  --text-main: #e2e8f0;
  --text-muted: #94a3b8;
  --accent: #38bdf8;
  --panel-bg: #1e293b;
  --panel-border: #334155;
  --input-bg: #1e293b;
  --overlay: rgba(0,0,0,0.5);
  --link-line: #334155;
}

/* ── Genel ── */
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  background: var(--bg-main);
  color: var(--text-main);
  padding: 2rem;
  transition: background 0.3s ease, color 0.3s ease;
}

h1 { font-size: 1.5rem; font-weight: 600; margin-bottom: 0.25rem; color: var(--accent); }
.subtitle { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 1.5rem; }

/* ── Arac Cubugu ── */
.toolbar { display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap; }
.select-group { display: flex; align-items: center; gap: 0.5rem; }

.view-select {
  background: var(--input-bg); color: var(--text-main); border: 1px solid var(--panel-border);
  padding: 0.4rem 0.75rem; border-radius: 0.5rem; font-size: 0.85rem;
  cursor: pointer; outline: none; transition: all 0.2s;
}
.view-select:focus { border-color: var(--accent); }

/* ── Lejant ── */
.legend { display: flex; gap: 1.5rem; flex-wrap: wrap; margin-left: auto; }
.legend-item { display: flex; align-items: center; gap: 0.4rem; font-size: 0.75rem; color: var(--text-muted); }
.legend-dot { width: 10px; height: 10px; border-radius: 50%; }

/* ── Grafik ── */
#chart { overflow: auto; }
svg text { -webkit-user-select: none; user-select: none; cursor: default; }

/* ── Detay Paneli ── */
#detail-panel {
  position: fixed; top: 0; right: -420px; width: 400px; height: 100vh;
  background: var(--panel-bg); border-left: 1px solid var(--panel-border);
  padding: 1.5rem; overflow-y: auto; transition: right 0.3s ease, background 0.3s ease;
  z-index: 100;
}
#detail-panel.open { right: 0; }
#detail-panel h2 { font-size: 1.1rem; color: var(--accent); margin-bottom: 0.25rem; }
#detail-panel .file-path { font-size: 0.75rem; color: var(--text-muted); margin-bottom: 1rem; font-family: monospace; }

#detail-panel .section-title {
  font-size: 0.7rem; font-weight: 600; text-transform: uppercase;
  letter-spacing: 0.05em; color: var(--text-muted);
  margin: 1rem 0 0.5rem; border-top: 1px solid var(--panel-border); padding-top: 0.75rem;
}
#detail-panel .section-title:first-of-type { border-top: none; margin-top: 0; }

#detail-panel .tag {
  display: inline-block; padding: 2px 8px; border-radius: 4px;
  font-size: 0.7rem; font-family: 'JetBrains Mono', monospace; margin: 2px;
}

/* ── Etiket Renkleri (Light Mode) ── */
#detail-panel .tag-state { background: #e0e7ff; color: #4f46e5; }
#detail-panel .tag-const { background: #e0f2fe; color: #0284c7; }
#detail-panel .tag-fn { background: #d1fae5; color: #059669; }
#detail-panel .tag-type { background: #fae8ff; color: #c026d3; }
#detail-panel .tag-hook { background: #fef3c7; color: #d97706; }

/* ── Etiket Renkleri (Dark Mode) ── */
[data-theme="dark"] #detail-panel .tag-state { background: #312e81; color: #a78bfa; }
[data-theme="dark"] #detail-panel .tag-const { background: #1e3a5f; color: #38bdf8; }
[data-theme="dark"] #detail-panel .tag-fn { background: #064e3b; color: #34d399; }
[data-theme="dark"] #detail-panel .tag-type { background: #4a1d6a; color: #e879f9; }
[data-theme="dark"] #detail-panel .tag-hook { background: #713f12; color: #fbbf24; }

/* ── Panel Butonlari ── */
#detail-panel .close-btn {
  position: absolute; top: 1rem; right: 1rem; background: none; border: none;
  color: var(--text-muted); font-size: 1.2rem; cursor: pointer;
}
#detail-panel .close-btn:hover { color: var(--text-main); }

/* ── Overlay ── */
#overlay {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: var(--overlay); z-index: 99; display: none;
}
#overlay.open { display: block; }

/* ── Etkilesim ── */
.clickable { cursor: pointer; }
.clickable:hover text:first-child { fill: var(--accent) !important; }

/* ── Tooltip ── */
.tooltip {
  position: absolute; padding: 6px 10px; background: var(--panel-bg); border: 1px solid var(--panel-border);
  border-radius: 6px; font-size: 0.75rem; color: var(--text-main); pointer-events: none;
  opacity: 0; transition: opacity 0.15s;
}

/* ── Panel Icerik ── */
#detail-panel .detail-desc { font-size: 0.85rem; color: var(--text-main); margin-bottom: 0.75rem; }
#detail-panel .detail-meta { font-size: 0.75rem; color: var(--text-muted); margin-bottom: 1rem; }

/* ── Yardimci ── */
.select-label { font-size: 0.8rem; color: var(--text-muted); }
.legend-dot-folder { background: var(--accent); }
.legend-dot-page { background: #a78bfa; }
.legend-dot-component { background: #34d399; }
.legend-dot-config { background: #fbbf24; }
.legend-dot-style { background: #f472b6; }
